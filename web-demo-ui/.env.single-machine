# Single Machine Deployment Configuration
# All services run on localhost, only frontend accessible publicly via Nginx

# Domain Configuration
DOMAIN=privastream.site
SERVER_PUBLIC_IP=your-server-public-ip

# SSL Configuration
SSL_ENABLED=true
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem

# Security
SECRET_KEY=your-very-secure-secret-key-change-this-random-string-123456789

# Internal Service Communication (localhost)
FLASK_HOST=127.0.0.1
FLASK_PORT=5000
MEDIASOUP_SERVER_URL=http://127.0.0.1:3001
VIDEO_SERVICE_URL=http://127.0.0.1:5001
AUDIO_SERVICE_URL=http://127.0.0.1:5002
FACE_ENROLLMENT_API_URL=http://127.0.0.1:5003

# MediaSoup Configuration
SERVER_HOST=127.0.0.1
SERVER_PORT=3001
ANNOUNCED_IP=your-server-public-ip  # Public IP for WebRTC
LISTEN_IP=0.0.0.0  # Bind to all interfaces for WebRTC
RTC_MIN_PORT=10000
RTC_MAX_PORT=10100

# Frontend Environment Variables (These will be public)
NEXT_PUBLIC_API_URL=https://privastream.site/api
NEXT_PUBLIC_MEDIASOUP_URL=https://privastream.site/mediasoup
NEXT_PUBLIC_VIDEO_SERVICE_URL=https://privastream.site/video-api
NEXT_PUBLIC_FACE_ENROLLMENT_API_URL=https://privastream.site/face-api
NEXT_PUBLIC_REDACTION_SERVICE_URL=https://privastream.site/audio-api

# CORS Configuration (Allow your domain)
CORS_ALLOWED_ORIGINS=https://privastream.site,https://www.privastream.site
SOCKETIO_CORS_ALLOWED_ORIGINS=https://privastream.site,https://www.privastream.site

# Processing Configuration
PROCESSING_DELAY_MS=8000
FRAME_RATE=30
PROCESS_EVERY_NTH_FRAME=15
BUFFER_DURATION_MS=3000

# Public Ports (only these are exposed)
HTTP_PORT=80
HTTPS_PORT=443